<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" charset="utf-8" src=""></script>
    <title>API Ordenação</title>
</head>
<script>
    //Funcao única: envia valores para API e atualiza a tabela com o retorno

    function run() {
        console.log("entrou")
        var length = parseInt(document.getElementById("a").value);
        var floor = parseInt(document.getElementById("b").value);
        var ceil = parseInt(document.getElementById("c").value);

        const postData = async (url = '', data = {}) => {
            const res = await fetch(url, {
                method: 'POST',
                credentials: 'same-origin',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            });
            console.log(res);
            try {
                const received = await res.json();
                console.log(received);
                return received;
            }
            catch (error) {
                console.log('ERROR: ' + error);
            }
        };
        postData('http://localhost:4000/run', { length: length, floor: floor, ceil: ceil });
    }
    function executar() {
        var size = document.API.size.value;
        var limite_inferior = document.API.limite_inferior.value;
        var limite_superior = document.API.limite_superior.value;
        //Enviar as variáveis acima para a API!

        var i = 0;
        for (i = 1; i <= 6; i++) {
            tempo = 0; /* variável que recebe o tempo de cada algorítmo em ordem 
                        (de i=1 a i=5: binary->ternary->quick->merge->bubble)*/
            document.getElementById(i).innerHTML = tempo + ' ms';
        }
    }           
</script>
<style>
    table,
    th,
    td {
        border: 1px solid black;
    }
</style>

<body class="corpo">

    <h1>Teste API ordenação e busca</h1>
    <h2>Dados do vetor:</h2>
    <!-- <form name="API" action="http://localhost:4000/run" method="POST"> -->
    Tamanho:<input class=entrada type="number" name="length" id="a"></input><br>
    Menor número possível: <input class=entrada type="number" name="floor" id="b"></input><br>
    Maior número possível: <input class=entrada type="number" name="ceil" id="c"></input><br>

    <button type="button" onclick="run()">Testar</button>
    <!-- </form> -->
    <h2>Resultados:</h2>
    <table id="tbl" style="width:25%">
        <tr>
            <th>Algoritmo</th>
            <th>Tempo</th>
        </tr>
        <tr>
            <td>Binary Search</td>
            <td id="1"></td>
        </tr>
        <tr>
            <td>Ternary Search</td>
            <td id="2"></td>
        </tr>
        <tr>
            <td>Quick Sort</td>
            <td id="3"></td>
        </tr>
        <tr>
            <td>Merge Sort</td>
            <td id="4"></td>
        </tr>
        <tr>
            <td>Bubble Sort</td>
            <td id="5"></td>
        </tr>
    </table>

</body>

</html>